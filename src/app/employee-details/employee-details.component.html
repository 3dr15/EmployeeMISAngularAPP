<form #form="ngForm"  autocomplete="off" (submit)="onSubmit(form)" enctype="multipart/form-data">
  <input type="hidden" name="employeeID" #id="ngModel" [(ngModel)]="employee.employeeID" required>
  <div class="form-group">
    <label for="firstName">First Name
    </label>
    <input name="firstName" pattern="[a-z A-Z]+" #firstName="ngModel" 
    [(ngModel)]="employee.firstName"
    class="form-control form-control-sm" required 
    [ngClass]="{ 'is-invalid': firstName.invalid && submitted }">
    <div *ngIf="firstName.invalid && submitted">
      <span *ngIf="firstName.errors.required"><p class="text-danger">First Name Field is required</p> </span>
            <span *ngIf="firstName.errors.pattern"><p class="text-danger">Invalid First Name</p> </span>
    </div>

  </div>

  <div class="form-group">
    <label for="lastName">Last Name
    </label>
    <input name="lastName" pattern="[a-z A-Z]+" #lastName="ngModel" 
    [(ngModel)]="employee.lastName" class="form-control form-control-sm" required
    [ngClass]="{ 'is-invalid': lastName.invalid && submitted }">
    <div *ngIf="lastName.invalid && submitted">
      <span *ngIf="lastName.errors.required"><p class="text-danger">Last Name Field is required</p> </span>
            <span *ngIf="lastName.errors.pattern"><p class="text-danger">Invalid Last Name</p> </span>
    </div>
  </div>

  <div class="form-group">
    <label for="phoneNumber">Contact Number
    </label>
    <input name="phoneNumber" pattern="[0-9]*" type="text" #phoneNumber="ngModel" [(ngModel)]="employee.phoneNumber" class="form-control form-control-sm" minlength="10" maxlength="10" required
    [ngClass]="{ 'is-invalid': phoneNumber.invalid && submitted }">
    <div *ngIf="phoneNumber.invalid && submitted">
      <span *ngIf="phoneNumber.errors.required"><p class="text-danger">Phone Number Field is required</p> </span>
      <span *ngIf="(phoneNumber.errors.minlength || phoneNumber.errors.maxlength || phoneNumber.errors.pattern)"><p class="text-danger">Invalid Phone Number</p> </span>
    </div>
  </div>

  <div class="form-group">
    <label for="docProofLink">Document Proof
    </label>
    <!-- <input name="docProofLink" #docProofLink="ngModel" [(ngModel)]="employee.docProofLink" class="form-control form-control-sm" required> -->
    <input (change)="fileUpload($event)" name="docProofLink" #docProofLink="ngModel" [(ngModel)]="employee.docProofLink" class="form-control form-control-sm" type="file" accept=".jpeg, .jpg, .pdf" required
    [ngClass]="{ 'is-invalid': docProofLink.invalid && submitted }">
    <div *ngIf="docProofLink.invalid && submitted">
        <span *ngIf="docProofLink.errors.required"><p class="text-danger">Document Link is required</p> </span>
    </div>
  </div>

  <div class="form-group">
    <label for="email">Email Address
    </label>
    <input name="email" type="email" #email="ngModel" [(ngModel)]="employee.email" class="form-control form-control-sm" pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,}$" required
    [ngClass]="{ 'is-invalid': email.invalid && submitted }">
    <div *ngIf="email.invalid && submitted">
        <span *ngIf="email.errors.required"><p class="text-danger">Email Field is required</p> </span>
        <span *ngIf="email.errors.pattern"><p class="text-danger">Invalid Email</p> </span>
    </div>
  </div>

  <div class="form-group">
    <label for="password">Password
    </label>
    <input name="password" type="password" #password="ngModel" [(ngModel)]="employee.password" class="form-control form-control-sm" pattern=".{6,}" required
    [ngClass]="{ 'is-invalid': password.invalid && submitted }">
    <div *ngIf="password.invalid && submitted">
      <span *ngIf="password.errors.required"><p class="text-danger">Password Field is required</p> </span>
      <span *ngIf="password.errors.pattern"><p class="text-danger">Password Must Contain 6 or More Characters</p> </span>
    </div>
  </div>

  <div class="form-group">
    <label for="departmentID">Department
    </label>
    <select name="departmentID" type="number" #departmentID="ngModel" [(ngModel)]="employee.departmentID" class="form-control form-control-sm" required
    [ngClass]="{ 'is-invalid': departmentID.invalid && submitted }">
    <!-- <option value="1">Test Dep</option> -->
      <option *ngFor="let department of departments" value="{{ department.departmentID }}">{{ department.departmentName }}</option>
    </select>
    <div *ngIf="departmentID.invalid && submitted">
      <span *ngIf="departmentID.errors.required"><p class="text-danger">Select a Department</p> </span>
    </div>
  </div>

  <div class="form-group">
    <label for="salary">Salary
    </label>
    <input name="salary" type="number" #salary="ngModel" [(ngModel)]="employee.salary" class="form-control form-control-sm" required
    [ngClass]="{ 'is-invalid': salary.invalid && submitted }">
    <div *ngIf="salary.invalid && submitted">
        <span *ngIf="salary.errors.required"><p class="text-danger">Salary Field is Required</p> </span>
      </div>
  </div>
  <div class="form-group">
    <button type="submit"  class="btn btn-success btn-lg btn-block">Store</button>
    <button type="button" (click)="resetFormFields()" class="btn btn-dark btn-lg btn-block">Reset</button>
  </div>
</form>